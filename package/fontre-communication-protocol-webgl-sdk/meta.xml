
<classes>

    <class name="src::array.removeByIndex">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(data,index){

        

if(index >= 0 && index < data.length){

    data.splice(index , 1) ;

    return true ;
}

return false ;
    }
    return function(data,index){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data,index) ;
    }
    

})() ;]]>
    </class>

    <class name="src::array.remove">
        <![CDATA[(() =>{
    let remove;
    
    
    
    
    
    let __first_executed_1539062237078__ = false ;
    

    
    function main(data,item){

        

return remove(data , data.indexOf(item)) ;
    }
    return function(data,item){
        
        if(!__first_executed_1539062237078__){
            remove = include('array.removeByIndex');
            
            __first_executed_1539062237078__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data,item) ;
    }
    

})() ;]]>
    </class>

    <class name="src::array.remove.all">
        <![CDATA[(() =>{
    let remove;
    
    
    
    
    
    let __first_executed_1539062237078__ = false ;
    

    
    function main(data,item){

        

while(true){

    if(remove(data , item) === false){

        break ;
    }
}
    }
    return function(data,item){
        
        if(!__first_executed_1539062237078__){
            remove = include('array.remove');
            
            __first_executed_1539062237078__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data,item) ;
    }
    

})() ;]]>
    </class>

    <class name="src::is.html.iframe">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(el){

        

return el instanceof HTMLIFrameElement ;
    }
    return function(el){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , el) ;
    }
    

})() ;]]>
    </class>

    <class name="src::browser.html.iframe">
        <![CDATA[(() =>{
    let isHtmlIframe;
    
    
    
    
    
    let __first_executed_1539062237078__ = false ;
    

    
    function main(iframeEl){

        

if(!isHtmlIframe(iframeEl)){

    return ;
}

return new Promise(callback =>{

    switch(iframeEl.readyState){

        case 'complete':
        case 'loaded':

            callback(iframeEl) ;

            break ;

        default:
        
            iframeEl.addEventListener('load' , () =>{

                callback(iframeEl) ;

            }) ;
    }

}) ;
    }
    return function(iframeEl){
        
        if(!__first_executed_1539062237078__){
            isHtmlIframe = include('is.html.iframe');
            
            __first_executed_1539062237078__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , iframeEl) ;
    }
    

})() ;]]>
    </class>

    <class name="src::is.object.simple">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(data){

        

return data instanceof Object && data.constructor === Object;
    }
    return function(data){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.message.is">
        <![CDATA[(() =>{
    let isObject;
    
    
    
    
    
    let __first_executed_1539062237078__ = false ;
    

    
    function main(data){

        

if(isObject(data)){

    return data.hasOwnProperty('id') && data.hasOwnProperty('action') ;
}

return false ;
    }
    return function(data){
        
        if(!__first_executed_1539062237078__){
            isObject = include('is.object.simple');
            
            __first_executed_1539062237078__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.message.is.main">
        <![CDATA[(() =>{
    let is;
    
    
    
    
    
    let __first_executed_1539062237078__ = false ;
    

    
    function main(message){

        

return is(message) && !message.hasOwnProperty('reply') ;
    }
    return function(message){
        
        if(!__first_executed_1539062237078__){
            is = include('connection.message.is');
            
            __first_executed_1539062237078__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , message) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.message.reply">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(message,data){

        

if(data){

   return {
       ...message,
       reply:{
           data
       }
   } ;
}

return {
    ...message,
    reply:false
} ;
    }
    return function(message,data){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , message,data) ;
    }
    

})() ;]]>
    </class>

    <class name="src::is.type">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(data,type){

        

 return typeof data === type ;
    }
    return function(data,type){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data,type) ;
    }
    

})() ;]]>
    </class>

    <class name="src::is.string">
        <![CDATA[(() =>{
    let isType;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(data){

        

return isType(data , 'string') ;
    }
    return function(data){
        
        if(!__first_executed_1539062237079__){
            isType = include('is.type');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data) ;
    }
    

})() ;]]>
    </class>

    <class name="src::is.function">
        <![CDATA[(() =>{
    let isType;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(data){

        

return isType(data , 'function') ;
    }
    return function(data){
        
        if(!__first_executed_1539062237079__){
            isType = include('is.type');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , data) ;
    }
    

})() ;]]>
    </class>

    <class name="src::function.empty">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    

const emptyFn = () =>{
} ;

function main(){

    return emptyFn ;
}
    return function(){
        
        
        return main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) ) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.receive">
        <![CDATA[(() =>{
    let isMain,reply,isString,isFunction,emptyFn;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(receiver,implementName,replyName,actionName){

        

let actionFn ;

if(isString(actionName)){

    actionFn = include(actionName) ;

}else if(isFunction(actionName)){

    actionFn = actionName ;

}else{

    actionFn = emptyFn() ;
}

include(implementName)(receiver , async (message) =>{

    if(isMain(message)){
        
        include(replyName)(receiver , reply(message , await actionFn(message))) ;
    
    }

}) ;
    }
    return function(receiver,implementName,replyName,actionName){
        
        if(!__first_executed_1539062237079__){
            isMain = include('connection.message.is.main');
reply = include('connection.message.reply');
isString = include('is.string');
isFunction = include('is.function');
emptyFn = include('function.empty');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , receiver,implementName,replyName,actionName) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.receive.window">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(window,callback){

        

window.addEventListener('message' , ({
    data
}) =>{

    callback(data) ;
}) ;
    }
    return function(window,callback){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , window,callback) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.reply.window">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(window,message){

        

window.postMessage(message , '*') ;
    }
    return function(window,message){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , window,message) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.window.receive">
        <![CDATA[(() =>{
    let receive,connectionReceiveWindow,connectionReplyWindow;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(window,actionFn){

        

receive(window , 'connection.receive.window' , 'connection.reply.window' , actionFn) ;
    }
    return function(window,actionFn){
        
        if(!__first_executed_1539062237079__){
            receive = include('connection.receive');
connectionReceiveWindow = include('connection.receive.window');
connectionReplyWindow = include('connection.reply.window');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , window,actionFn) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.message.is.reply">
        <![CDATA[(() =>{
    let is;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(message){

        

return is(message) && message.hasOwnProperty('reply') ;
    }
    return function(message){
        
        if(!__first_executed_1539062237079__){
            is = include('connection.message.is');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , message) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.message.is.reply.to">
        <![CDATA[(() =>{
    let isMain,isReply;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(replyMessage,message){

        

return isReply(replyMessage) && isMain(message) && replyMessage.id === message.id ;
    }
    return function(replyMessage,message){
        
        if(!__first_executed_1539062237079__){
            isMain = include('connection.message.is.main');
isReply = include('connection.message.is.reply');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , replyMessage,message) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.message.reply.result">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(replyMessage){

        

let {
    reply
} = replyMessage ;

if(reply !== false){

    let {
        data
    } = reply ;

    return data ;
}
    }
    return function(replyMessage){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , replyMessage) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.send">
        <![CDATA[(() =>{
    let isReply,isReplyTo,result;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(sender,implementName,message){

        

return new Promise(callback =>{

    include(implementName)(sender , message , replyMessage =>{

        if(isReplyTo(replyMessage , message)){
    
            callback(result(replyMessage)) ;
            
            return true ;
        }

    }) ;
}) ;
    }
    return function(sender,implementName,message){
        
        if(!__first_executed_1539062237079__){
            isReply = include('connection.message.is.reply');
isReplyTo = include('connection.message.is.reply.to');
result = include('connection.message.reply.result');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , sender,implementName,message) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.send.window">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    function main(target,message,fn){

        

target.postMessage(message , '*') ;

const 
callback = ({
    data
}) =>{

    if(fn(data) === true){

        window.removeEventListener('message' , callback) ;
    }
} ;

window.addEventListener('message' ,callback) ;
    }
    return function(target,message,fn){
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , target,message,fn) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.message.package">
        <![CDATA[(() =>{
    
    
    
    
    
    

    
    

let count = 0 ;

function main(action , data){

    return {
        id:`${Date.now()}-${++ count}`,
        action,
        data
    } ;
}
    return function(action,data){
        
        
        return main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , action,data) ;
    }
    

})() ;]]>
    </class>

    <class name="src::connection.window.send">
        <![CDATA[(() =>{
    let send,connectionSendWindow,doPackage;
    
    
    
    
    
    let __first_executed_1539062237079__ = false ;
    

    
    function main(window,action,data){

        

return send(window , 'connection.send.window' , doPackage(action , data)) ;
    }
    return function(window,action,data){
        
        if(!__first_executed_1539062237079__){
            send = include('connection.send');
connectionSendWindow = include('connection.send.window');
doPackage = include('connection.message.package');
            
            __first_executed_1539062237079__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , window,action,data) ;
    }
    

})() ;]]>
    </class>



</classes>