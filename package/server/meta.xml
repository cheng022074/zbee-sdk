
<classes>

    <class name="src::environment.name">
        <![CDATA[(() =>{
    
    
    
    
    let __once_1534473867674_value__,
        __once_1534473867674_locked__ = false;
    
    let __first_executed_1534473867674__ = false ;
    
    
    function main(){

        

const {
    toString
} = Object.prototype ;

if(typeof window === 'object' && toString.call(window) === '[object Window]' && typeof document === 'object' && toString.call(document) === '[object HTMLDocument]'){

    return 'browser' ;
}

const {
    env
} = process ;

if(env['ZBEE-RUNTIME-ENVIRONMENT'] === 'yes'){

    return 'zbee' ;
}

return 'node' ;
    }
    return function(){
        
        
        if(__once_1534473867674_locked__){

            return __once_1534473867674_value__ ;

        }

        __once_1534473867674_locked__ = true ;
        
        return __once_1534473867674_value__ =  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) ) ;
    }
    

})() ;]]>
    </class>

    <class name="src::fork.path">
        <![CDATA[(() =>{
    let getName;
    
    
    
    let __once_1534473867674_value__,
        __once_1534473867674_locked__ = false;
    
    let __first_executed_1534473867674__ = false ;
    
    
    function main(){

        

const {
    env
} = process,
{
    join
} = require('path');

switch(getName()){
    
    case 'zbee':

        return join(env['ZBEE-APPLICATION-ROOT-PATH'] , 'bin' , 'header.js') ;

        break ;

    case 'node':

        return __filename ;

        break ;

    default:

        return ;
};
    }
    return function(){
        
        if(!__first_executed_1534473867674__){
            getName = include('environment.name');
            
            __first_executed_1534473867674__ = true ;
        }
        
        
        if(__once_1534473867674_locked__){

            return __once_1534473867674_value__ ;

        }

        __once_1534473867674_locked__ = true ;
        
        return __once_1534473867674_value__ =  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) ) ;
    }
    

})() ;]]>
    </class>

    <class name="src::fork.process">
        <![CDATA[(() =>{
    let getPath;
    
    
    
    let __first_executed_1534473867674__ = false ;
    
    
    function main(name,...args){

        

const {
    fork
} = require('child_process') ;

return new Promise((resolve , reject) =>{

    fork(getPath() , {
        env:{
            'ZBEE-APPLICATION-ROOT-PATH':env['ZBEE-APPLICATION-ROOT-PATH'],
            'ZBEE-ENTRY-NAME':name,
            'ZBEE-ENTRY-ARGS':JSON.stringify(args)
        }
    }).on('message' , resolve).on('error' , reject) ;

}) ;
    }
    return function(name,...args){
        
        if(!__first_executed_1534473867674__){
            getPath = include('fork.path');
            
            __first_executed_1534473867674__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , name,...args) ;
    }
    

})() ;]]>
    </class>

    <class name="src::fork.worker">
        <![CDATA[(() =>{
    let getPath;
    
    
    
    let __first_executed_1534473867674__ = false ;
    
    
    function main(name){

        

const {
    fork,
    setupMaster,
    isMaster
} = require('cluster'),
{
    env
} = process;

if(isMaster){

    setupMaster({
        exec:getPath()
    }) ;
    
    return fork({
        'ZBEE-APPLICATION-ROOT-PATH':env['ZBEE-APPLICATION-ROOT-PATH'],
        'ZBEE-ENTRY-NAME':name
    }) ;
}
    }
    return function(name){
        
        if(!__first_executed_1534473867674__){
            getPath = include('fork.path');
            
            __first_executed_1534473867674__ = true ;
        }
        
        
        return  main.call((function(){

            let me = this,
                target;

            if(typeof global !== 'undefined'){

                target = global ;
            
            }else{

                target = window ;
            }

            return me === target ? main : me ;

        }).call(this) , name) ;
    }
    

})() ;]]>
    </class>



</classes>